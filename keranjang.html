<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Keranjang - Garet Bakery</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet"/>
  <link href="tema.css" rel="stylesheet" />
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center text-white" href="beranda.html">
      <img src="de fashion logo.png" alt="Logo" width="50" height="50" class="me-2 rounded-circle">
      Garet Bakery
    </a>
    <ul class="navbar-nav ms-auto">
      <li class="nav-item">
        <a class="nav-link text-white" href="produk.html"><i class="bi bi-shop"></i> Produk</a>
      </li>
      <li class="nav-item">
        <a class="nav-link text-white" href="invoice.html"><i class="bi bi-receipt"></i> Invoice</a>
      </li>
      <li class="nav-item">
        <a class="nav-link text-white" href="kontak.html"><i class="bi bi-envelope"></i> Kontak</a>
      </li>
    </ul>
  </div>
</nav>

<!-- Konten Keranjang -->
<main>
  <div class="container py-5">
    <div class="card-box">
      <h2 class="text-center mb-4 text-shadow">Keranjang Belanja Anda</h2>

      <!-- Daftar Item -->
      <ul id="cartItems" class="list-group mb-3">
        <!-- Diisi dengan JavaScript -->
      </ul>

      <!-- Total -->
      <div class="text-end fs-5 fw-semibold mb-3">
        Total: Rp<span id="cartTotal">0</span>
      </div>

      <!-- Form Checkout -->
      <form id="checkoutForm">
        <div class="mb-3">
          <label for="alamat" class="form-label">Alamat Pengiriman</label>
          <textarea class="form-control" id="alamat" rows="3" required placeholder="Tulis alamat lengkap..."></textarea>
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email Anda</label>
          <input type="email" class="form-control" id="email" required placeholder="contoh@email.com">
        </div>
        <div class="mb-3">
          <label for="pembayaran" class="form-label">Metode Pembayaran</label>
          <select class="form-select" id="pembayaran" required>
            <option value="">-- Pilih Metode --</option>
            <option value="Transfer Bank">Transfer Bank</option>
            <option value="COD">Bayar di Tempat (COD)</option>
            <option value="E-Wallet">E-Wallet (DANA, OVO, dll)</option>
          </select>
        </div>

        <!-- Tombol Checkout -->
        <div class="text-center">
          <button type="submit" class="btn btn-success px-4">Checkout</button>
        </div>
      </form>
    </div>
  </div>
</main>

<!-- Footer -->
<footer class="footer text-center py-4 mt-5">
  <div class="container">
    <p class="mb-1">&copy; 2025 Garet Bakery. All rights reserved.</p>
    <small>Ikuti kami di:
      <a href="#">Instagram</a>,
      <a href="#">Facebook</a>
    </small>
  </div>
</footer>

<!-- JavaScript -->
<script src="jawa.js"></script>
<script>
  // Render keranjang saat halaman dimuat
  document.addEventListener("DOMContentLoaded", () => {
    renderCart();
  });

  // Validasi Form Checkout
  document.getElementById("checkoutForm").addEventListener("submit", function (e) {
    e.preventDefault();

    const alamat = document.getElementById("alamat").value.trim();
    const email = document.getElementById("email").value.trim();
    const pembayaran = document.getElementById("pembayaran").value;

    if (!alamat || !email || !pembayaran) {
      alert("Harap isi semua data pengiriman terlebih dahulu.");
      return;
    }

    // Simpan ke localStorage
    const dataUser = { alamat, email, pembayaran };
    localStorage.setItem("userCheckout", JSON.stringify(dataUser));

    // Lanjutkan proses checkout
    checkout();
  });
</script>

</body>
</html>
